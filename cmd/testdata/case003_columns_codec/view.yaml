Alias: t
Batch:
  Parent: 10000
CaseFormat: lc
Caser: 3
Columns:
  - DataType: INTEGER
    Filterable: true
    Name: id
    Nullable: true
  - DataType: INTEGER
    Filterable: true
    Name: event_type_id
    Nullable: true
  - Codec:
      Name: AsStrings
      Ref: AsStrings
      Schema:
        Cardinality: One
    DataType: string
    Filterable: true
    Name: slice
    Nullable: true
ColumnsConfig:
  slice:
    Codec:
      Name: AsStrings
      Ref: AsStrings
      Schema:
        Cardinality: One
    DataType: string
Connector:
  DSN: /tmp/datly/generator/db.db
  Driver: sqlite3
  Name: dev
  Secret:
    Data: null
    Key: blowfish://default
    URL: mem://localhost/resource/mysql.json
From: "SELECT id,\n                event_type_id,\n                (CASE\n                     WHEN id = 1 THEN\n                         'x1,x2'\n                     ELSE\n                         'x3,x4'\n                    END) AS slice /* {\"Codec\":{\"Ref\":\"AsStrings\"}, \"DataType\": \"string\"}  */\n         FROM events\n    "
FromURL: events_from.sql
Logger:
  Name: ""
MatchStrategy: read_matched
Name: events
Schema:
  Cardinality: One
Selector:
  Constraints:
    Criteria: true
    Filterable:
      - '*'
    Limit: true
    Offset: true
    OrderBy: false
    Projection: true
  Limit: 40
Table: events
Template:
  PresenceSchema:
    Cardinality: One
  Schema:
    Cardinality: One
  Source: |-
    (SELECT id,
                    event_type_id,
                    (CASE
                         WHEN id = 1 THEN
                             'x1,x2'
                         ELSE
                             'x3,x4'
                        END) AS slice /* {"Codec":{"Ref":"AsStrings"}, "DataType": "string"}  */
             FROM events
        )
UseBindingPositions: true
With:
  - Cardinality: Many
    Column: event_type_id
    Holder: EventType
    IncludeColumn: true
    Name: events_event_type
    Of:
      Alias: t
      Batch:
        Parent: 10000
      CaseFormat: lu
      Caser: 5
      Column: id
      Columns:
        - DataType: INTEGER
          Name: id
          Nullable: true
        - DataType: VARCHAR(255)
          Name: name
          Nullable: true
        - DataType: INTEGER
          Name: account_id
          Nullable: true
      Connector:
        DSN: /tmp/datly/generator/db.db
        Driver: sqlite3
        Name: dev
        Secret:
          Data: null
          Key: blowfish://default
          URL: mem://localhost/resource/mysql.json
      Field: id
      Logger:
        Name: ""
      MatchStrategy: read_matched
      Name: event_type#
      Ref: event_type
      Schema:
        Cardinality: One
      Selector:
        Constraints:
          Criteria: false
          Filterable: null
          Limit: false
          Offset: false
          OrderBy: false
          Projection: false
        Limit: 40
      Table: event_types
      Template:
        PresenceSchema:
          Cardinality: One
        Schema:
          Cardinality: One
        Source: event_types
